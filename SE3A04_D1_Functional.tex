\newcommand{\functional}{\section{Highlights of Functional Requirements}
\label{sec:functional_requirements}
% Begin Section
\begin{itemize}
	\item Specify all use cases (or other scenarios triggered by other events), organized by Business Event. 
	\item For each Business Event, show the scenario from every Viewpoint. You should have the same set of Viewpoints across all Business Events. If a Viewpoint doesn't participate, write N/A so we know you considered it still. You can choose how to present this - keep in mind it should be easy to follow. 
	\item At the end, combine them all into a Global Scenario.
	%\item Specify the "use cases" (or other triggering events) organized by Business Event. (The Global Scenario is what you might think of as a use case). Be sure to consider Business Events that aren't just triggered by users with goals (e.g. something happens in the environment that your system needs to respond to)
	\item Your focus should be on what the system needs to do, not how to do it. Specify it in enough detail that it clearly specifies what needs to be accomplished, but not so detailed that you start programming or making design decisions.
	\item Keep the length of each use case (Global Scenario) manageable. If it's getting too long, split into sub-cases.
	\item You are \emph{not} specifying a complete and consistent set of functional requirements here. (i.e. you are providing them in the form of use cases/global scenarios, not a refined list). For the purpose of this project, you do not need to reduce them to a list; the global scenarios format is all you need.
	\item Red text below is just to highlight where you need to insert a scenario - don't actually write it all in red.
\end{itemize}

\noindent {\bf Main Business Events:} List out all the main business events you are presenting. If you sub-divided into smaller ones, you don't need to include the smaller ones in this list.\\

\noindent {\bf Viewpoints:} List out all the viewpoints you will be considering.\\

\noindent {\bf Interpretation:} Specify any liberties you took in interpreting business events, if necessary.\\

%	\begin{enumerate}[{\bf BE1.}]
%		\item Business Event Name \#1
%			\begin{enumerate}[{\bf VP1.}]
%				\item Viewpoint Name \#1 \\
%					\textcolor{red}{Insert Scenario Here}
%				\item Viewpoint Name \#2 \\
%					\textcolor{red}{Insert Scenario Here}
%			\end{enumerate}
%			{\bf Global Scenario:}\\
%			\textcolor{red}{Insert Scenario Here}
%		\item Business Event Name \#2
%		\begin{enumerate}[{\bf VP1.}]
%			\item Viewpoint Name \#1 \\
%			\textcolor{red}{Insert Scenario Here}
%			\item Viewpoint Name \#2 \\
%			\textcolor{red}{Insert Scenario Here}
%		\end{enumerate}
%		{\bf Global Scenario:}\\
%		\textcolor{red}{Insert Scenario Here}
%	\end{enumerate}

%	Below, we organize by Business Event.
%	\begin{enumerate}[{BE}1.]
%		\item Business Event name
%		\begin{enumerate}[{VP1}.1]
%			\item Viewpoint name \newline
%			\noindent\fbox{%
%				\parbox{0.5\textwidth}{%
%					\begin{itemize}
%						\item {\bf $S_{1}$:} Initial response of the system to the Business Event
%						\item {\bf $E_{1}$:}  Reaction of the environment to $S_{1}$
%						\item {\bf $S_{2}$:}  Response of the system to $E_{1}$
%						\item {\bf $E_{2}$:}  Reaction of the environment to $S_{2}$
%						\item[] $\cdots$
%						\item {\bf $S_{n}$:}  Response of the system to $E_{(n-1)}$
%						\item {\bf $E_{n}$:}  Reaction of the environment to $E_{(n-1)}$
%						\item {\bf $S_{(n+1)}$:} Final response of the system concluding its function regarding the Business Event
%					\end{itemize}
%				}%
%			}
%			\item Viewpoint name\newline
%			\noindent\fbox{%
%				\parbox{0.5\textwidth}{%
%					\begin{itemize}
%						\item {\bf $S_{1}$:} Initial response of the system to the Business Event
%						\item {\bf $E_{1}$:}  Reaction of the environment to $S_{1}$
%						\item {\bf $S_{2}$:}  Response of the system to $E_{1}$
%						\item {\bf $E_{2}$:}  Reaction of the environment to $S_{2}$
%						\item[] $\cdots$
%						\item {\bf $S_{k}$:}  Response of the system to $E_{(k-1)}$
%						\item {\bf $E_{k}$:}  Reaction of the environment to $E_{(k-1)}$
%						\item {\bf $S_{(k+1)}$:} Final response of the system concluding its function regarding the Business Event
%					\end{itemize}
%				}%
%			}
%			\item \dots
%			\item \dots
%			\item \dots
%			\item[\dots]
%		\end{enumerate}	
%		\item[] {\bf Global Scenario of {\it Business Event Name}:} It is the scenario corresponding to the integration of all the above scenarios from the different Viewpoints of the Business Event BE1.\newline
%		\noindent\fbox{%
%			\parbox{0.5\textwidth}{%
%				\begin{itemize}
%					\item {\bf $S_{1}$:} Initial response of the system to the Business Event
%					\item {\bf $E_{1}$:}  Reaction of the environment to $S_{1}$
%					\item {\bf $S_{2}$:}  Response of the system to $E_{1}$
%					\item {\bf $E_{2}$:}  Reaction of the environment to $S_{2}$
%					\item[] $\cdots$
%					\item {\bf $S_{m}$:}  Response of the system to $E_{(m-1)}$
%					\item {\bf $E_{m}$:}  Reaction of the environment to $E_{(m-1)}$
%					\item {\bf $S_{(m+1)}$:} Final response of the system concluding its function regarding the Business Event
%				\end{itemize}
%			}%
%		}	
%		%\end{enumerate}
%		\item Business Event name
%		\begin{enumerate}[{VP1}.1]
%			\item Viewpoint name \newline
%			\noindent\fbox{%
%				\parbox{0.5\textwidth}{%
%					\begin{itemize}
%						\item {\bf $S_{1}$:} Initial response of the system to the Business Event
%						\item {\bf $E_{1}$:}  Reaction of the environment to $S_{1}$
%						\item {\bf $S_{2}$:}  Response of the system to $E_{1}$
%						\item {\bf $E_{2}$:}  Reaction of the environment to $S_{2}$
%						\item[] $\cdots$
%						\item {\bf $S_{n'}$:}  Response of the system to $E_{(n'-1)}$
%						\item {\bf $E_{n'}$:}  Reaction of the environment to $E_{(n'-1)}$
%						\item {\bf $S_{(n'+1)}$:} Final response of the system concluding its function regarding the Business Event
%					\end{itemize}
%				}%
%			}
%			\item Viewpoint name\newline
%			\noindent\fbox{%
%				\parbox{0.5\textwidth}{%
%					\begin{itemize}
%						\item {\bf $S_{1}$:} Initial response of the system to the Business Event
%						\item {\bf $E_{1}$:}  Reaction of the environment to $S_{1}$
%						\item {\bf $S_{2}$:}  Response of the system to $E_{1}$
%						\item {\bf $E_{2}$:}  Reaction of the environment to $S_{2}$
%						\item[] $\cdots$
%						\item {\bf $S_{k'}$:}  Response of the system to $E_{(k'-1)}$
%						\item {\bf $E_{k'}$:}  Reaction of the environment to $E_{(k'-1)}$
%						\item {\bf $S_{(k'+1)}$:} Final response of the system concluding its function regarding the Business Event
%					\end{itemize}
%				}%
%			}
%			\item \dots
%			\item \dots
%			\item \dots
%			\item[\dots]
%		\end{enumerate}	
%		\item[] {\bf Global Scenario of {\it Business Event Name}:} It is the scenario corresponding to the integration of all the above scenarios from the different Viewpoints of the Business Event BE2.\newline
%		\noindent\fbox{%
%			\parbox{0.5\textwidth}{%
%				\begin{itemize}
%					\item {\bf $S_{1}$:} Initial response of the system to the Business Event
%					\item {\bf $E_{1}$:}  Reaction of the environment to $S_{1}$
%					\item {\bf $S_{2}$:}  Response of the system to $E_{1}$
%					\item {\bf $E_{2}$:}  Reaction of the environment to $S_{2}$
%					\item[] $\cdots$
%					\item {\bf $S_{m'}$:}  Response of the system to $E_{(m'-1)}$
%					\item {\bf $E_{m'}$:}  Reaction of the environment to $E_{(m'-1)}$
%					\item {\bf $S_{(m'+1)}$:} Final response of the system concluding its function regarding the Business Event
%				\end{itemize}
%			}%
%		}		
%	\end{enumerate}
}

\begin{enumerate}[{\bf BE1.}]
	\item Ingest Sensor Telemetry \\
	{\it Pre-condition: Sensor device is registered and authenticated.}
		\begin{enumerate}[{\bf VP1.}]
			\item IoT Sensor Device \\
				\noindent\fbox{%
				\parbox{0.5\textwidth}{%
					\begin{itemize}
						\item {\bf Main Success Scenario:}
						\item {\bf $E_{1}$:} Sensor sends telemetry message containing environmental measurements.
						\item {\bf $S_{1}$:} System receives the telemetry message.
						\item {\bf Secondary Scenario (2i):} Telemetry message format is invalid.
						\item {\bf $S_{2}$:} System rejects the message.
						\item {\bf $S_{3}$:} Telemetry ingestion failed.
					\end{itemize}
				}%
			}
			\item City Operator \\ N/A
			\item System Administrator \\ N/A
			\item External System (Subscriber / API Consumer) \\ N/A
			\item General Public User \\ N/A
		\end{enumerate}
		{\bf Global Scenario:}\\
		\noindent\fbox{%
			\parbox{0.5\textwidth}{%
				\begin{itemize}
					\item {\bf 1:} System receives telemetry data from a registered sensor.
					\item {\bf 2:} System validates message format and value ranges.
					\item {\bf 3:} Valid telemetry is accepted for processing.
				\end{itemize}
			}%
		}

	\item Process \& Aggregate Environmental Data \\
	{\it Pre-condition: Valid telemetry has been ingested.}
	\begin{enumerate}[{\bf VP1.}]
		\item IoT Sensor Device \\ N/A
		\item City Operator \\ N/A
		\item System Administrator \\ N/A
		\item External System (Subscriber / API Consumer) \\ N/A
		\item General Public User \\ N/A
	\end{enumerate}
	{\bf Global Scenario:}\\
	\noindent\fbox{%
		\parbox{0.5\textwidth}{%
			\begin{itemize}
				\item {\bf 1:} System stores incoming telemetry in time-series storage.
				\item {\bf 2:} System aggregates data over predefined time windows.
				\item {\bf 3:} System associates aggregated data with geographical zones.
				\item {\bf Secondary Scenario (2i):} System fails to store telemetry data.
				\item {\bf 2i.1:} Aggregation cannot proceed.
			\end{itemize}
		}%
	}

	\item Detect Threshold Violation \& Generate Alert \\
	{\it Pre-condition: Aggregated data is available and alert rules exist.}
	\begin{enumerate}[{\bf VP1.}]
		\item IoT Sensor Device \\ N/A
		\item City Operator \\ N/A
		\item System Administrator \\
		\noindent\fbox{%
			\parbox{0.5\textwidth}{%
				\begin{itemize}
					\item {\bf $E_{1}$:} Administrator defines alert thresholds.
				\end{itemize}
			}%
		}
		\item External System (Subscriber / API Consumer) \\ N/A
		\item General Public User \\ N/A
	\end{enumerate}
	{\bf Global Scenario:}\\
	\noindent\fbox{%
		\parbox{0.5\textwidth}{%
			\begin{itemize}
				\item {\bf 1:} System evaluates aggregated data against alert rules.
				\item {\bf 2:} System detects a rule violation.
				\item {\bf 3:} System creates an alert and logs the event.
				\item {\bf 4:} System notifies subscribed external systems.
				\item {\bf Secondary Scenario (2i):} Alert evaluation fails due to system error.
				\item {\bf 2i.1:} Alert generation failed.
			\end{itemize}
		}%
	}

	\item Acknowledge / Resolve Alert \\
	{\it Pre-condition: An active alert exists.}
	\begin{enumerate}[{\bf VP1.}]
		\item IoT Sensor Device \\ N/A
		\item City Operator \\
		\noindent\fbox{%
			\parbox{0.5\textwidth}{%
				\begin{itemize}
					\item {\bf Main Success Scenario:}
					\item {\bf $E_{1}$:} Operator views active alerts on the dashboard.
					\item {\bf $E_{2}$:} Operator acknowledges an alert.
					\item {\bf $S_{1}$:} System updates alert status.
				\end{itemize}
			}%
		}
		\item System Administrator \\ N/A
		\item External System (Subscriber / API Consumer) \\ N/A
		\item General Public User \\ N/A
	\end{enumerate}
	{\bf Global Scenario:}\\
	\noindent\fbox{%
		\parbox{0.5\textwidth}{%
			\begin{itemize}
				\item {\bf 1:} System displays active alerts.
				\item {\bf 2:} Operator acknowledges or resolves an alert.
				\item {\bf 3:} System records the status change in the audit log.
			\end{itemize}
		}%
	}

	\item View Operational Dashboard \\
	{\it Pre-condition: User is authenticated as operator or administrator.}
	\begin{enumerate}[{\bf VP1.}]
		\item IoT Sensor Device \\ N/A
		\item City Operator \\
		\noindent\fbox{%
			\parbox{0.5\textwidth}{%
				\begin{itemize}
					\item {\bf Main Success Scenario:}
					\item {\bf $E_{1}$:} Operator logs into the dashboard.
					\item {\bf $S_{1}$:} System displays real-time environmental data and alerts.
				\end{itemize}
			}%
		}
		\item System Administrator \\
		\noindent\fbox{%
			\parbox{0.5\textwidth}{%
				\begin{itemize}
					\item Same as VP2 (City Operator).
				\end{itemize}
			}%
		}
		\item External System (Subscriber / API Consumer) \\ N/A
		\item General Public User \\ N/A
	\end{enumerate}
	{\bf Global Scenario:}\\
	\noindent\fbox{%
		\parbox{0.5\textwidth}{%
			\begin{itemize}
				\item {\bf 1:} User authenticates successfully.
				\item {\bf 2:} System presents visualizations of current and historical data.
			\end{itemize}
		}%
	}

	\item Access Public Environmental Data (API) \\
	{\it Pre-condition: Aggregated, non-sensitive data exists.}
	\begin{enumerate}[{\bf VP1.}]
		\item IoT Sensor Device \\ N/A
		\item City Operator \\ N/A
		\item System Administrator \\ N/A
		\item External System (Subscriber / API Consumer) \\
		\noindent\fbox{%
			\parbox{0.5\textwidth}{%
				\begin{itemize}
					\item {\bf Main Success Scenario:}
					\item {\bf $E_{1}$:} External system requests environmental data via API.
					\item {\bf $S_{1}$:} System authenticates the request.
					\item {\bf $S_{2}$:} System returns aggregated data.
				\end{itemize}
			}%
		}
		\item General Public User \\
		\noindent\fbox{%
			\parbox{0.5\textwidth}{%
				\begin{itemize}
					\item Same as VP4 (External System).
				\end{itemize}
			}%
		}
	\end{enumerate}
	{\bf Global Scenario:}\\
	\noindent\fbox{%
		\parbox{0.5\textwidth}{%
			\begin{itemize}
				\item {\bf 1:} System receives API request.
				\item {\bf 2:} System enforces access controls and rate limits.
				\item {\bf 3:} System responds with requested environmental data.
			\end{itemize}
		}%
	}

	\item Manage Users \& Roles \\
	{\it Pre-condition: Administrator account exists.}
	\begin{enumerate}[{\bf VP1.}]
		\item IoT Sensor Device \\ N/A
		\item City Operator \\ N/A
		\item System Administrator \\
		\noindent\fbox{%
			\parbox{0.5\textwidth}{%
				\begin{itemize}
					\item {\bf Main Success Scenario:}
					\item {\bf $E_{1}$:} Administrator creates or updates a user account.
					\item {\bf $S_{1}$:} System assigns roles and permissions.
				\end{itemize}
			}%
		}
		\item External System (Subscriber / API Consumer) \\ N/A
		\item General Public User \\ N/A
	\end{enumerate}
	{\bf Global Scenario:}\\
	\noindent\fbox{%
		\parbox{0.5\textwidth}{%
			\begin{itemize}
				\item {\bf 1:} System receives user management request.
				\item {\bf 2:} System validates permissions.
				\item {\bf 3:} System updates user records and logs the action.
			\end{itemize}
		}%
	}

\end{enumerate}

